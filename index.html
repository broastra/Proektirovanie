<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Погружение в Океан</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: white;
            overflow-x: hidden;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
        }

        .ocean-container {
            height: 1500vh;
            position: relative;
        }

        .depth-section {
            height: 150vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            padding: 2rem 4rem;
            overflow: hidden;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        .depth-info {
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.95) 0%, 
                rgba(0, 20, 40, 0.95) 30%,
                rgba(0, 40, 60, 0.9) 70%,
                rgba(0, 0, 0, 0.95) 100%);
            padding: 2.5rem;
            border-radius: 30px;
            border: 3px solid #00ffff;
            max-width: 800px;
            width: 90%;
            transform: translateY(50px);
            opacity: 0;
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            position: relative;
            box-shadow: 
                0 0 40px rgba(0, 255, 255, 0.4),
                inset 0 0 25px rgba(0, 255, 255, 0.15),
                0 12px 40px rgba(0, 0, 0, 0.6),
                0 0 0 1px rgba(0, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            margin: 0 auto;
            margin-top: 4vh;
        }

        .depth-info.visible {
            transform: translateY(0);
            opacity: 1;
        }


        .depth-indicator {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.95) 0%, 
                rgba(0, 20, 40, 0.95) 50%, 
                rgba(0, 0, 0, 0.95) 100%);
            padding: 2rem;
            border-radius: 20px;
            border: 2px solid #00ffff;
            z-index: 1002;
            text-align: center;
            width: 220px;
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.4),
                inset 0 0 20px rgba(0, 255, 255, 0.1);
            backdrop-filter: blur(15px);
        }

        .depth-meter {
            font-size: 2rem;
            color: #00ffff;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .depth-label {
            font-size: 1rem;
            color: #ccc;
            margin-bottom: 10px;
        }

        .pressure-reading {
            font-size: 0.9rem;
            color: #ff6b6b;
            margin-bottom: 5px;
        }

        .temperature-reading {
            font-size: 0.9rem;
            color: #4ecdc4;
        }

        .creature {
            position: absolute;
            font-size: 2rem;
            cursor: default;
            user-select: none;
            pointer-events: auto;
            animation: swim 8s infinite linear;
            transition: all 0.3s ease;
            z-index: 1;
        }

        .creature:hover {
            transform: scale(1.2);
        }

        .creature.clicked {
            animation: none;
            opacity: 0;
            transform: scale(0.5);
        }

        @keyframes swim {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }

        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% {
                transform: translateY(-100px) scale(1);
                opacity: 0;
            }
        }

        .scroll-hint {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 30px;
            border-radius: 25px;
            border: 2px solid #00ffff;
            animation: pulse 2s infinite;
            font-size: 1.1rem;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Градиенты для разных глубин с улучшенным качеством */
        .shore { 
            background: linear-gradient(180deg, 
                rgba(244, 164, 96, 0.4) 0%, 
                rgba(222, 184, 135, 0.4) 30%, 
                rgba(135, 206, 235, 0.4) 70%, 
                rgba(70, 130, 180, 0.4) 100%), 
                url('images/пляж.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            position: relative;
        }

        .shore::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(135, 206, 235, 0.2) 0%, transparent 50%);
            pointer-events: none;
        }
        .surface { 
            background: linear-gradient(180deg, 
                rgba(135, 206, 235, 0.3) 0%, 
                rgba(70, 130, 180, 0.3) 100%), 
                url('images/поверхность океана.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            position: relative;
        }

        .surface::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 30%, rgba(135, 206, 235, 0.2) 0%, transparent 60%),
                linear-gradient(45deg, transparent 40%, rgba(70, 130, 180, 0.1) 60%, transparent 80%);
            pointer-events: none;
        }
        .epipelagic { 
            background: linear-gradient(180deg, rgba(70, 130, 180, 0.6) 0%, rgba(25, 25, 112, 0.6) 100%), 
                       url('images/Коралловые рифы.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }
        .mesopelagic { 
            background: linear-gradient(180deg, rgba(25, 25, 112, 0.5) 0%, rgba(0, 0, 128, 0.5) 100%), 
                       url('images/Зона Сумерек.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }
        .bathypelagic { 
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.6) 0%, rgba(0, 0, 51, 0.6) 100%), 
                       url('images/Темная Зона.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }
        .abyssopelagic { 
            background: linear-gradient(180deg, rgba(0, 0, 51, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%), 
                       url('images/Ультра-Абиссальная Зона.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }
        .hadalpelagic { background: linear-gradient(180deg, #000000 0%, #000000 100%); }
        .titanic-section { background: linear-gradient(180deg, #000033 0%, #000000 100%); }
        .mariana-section { 
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.6) 100%), 
                       url('images/Марианская Впадина.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        /* Линия глубины */
        .depth-line {
            position: fixed;
            left: 100px;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 80vh;
            background: linear-gradient(180deg, #00ffff 0%, #ff6b6b 50%, #000000 100%);
            border-radius: 2px;
            z-index: 1001;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .depth-marker {
            position: absolute;
            left: -8px;
            width: 18px;
            height: 18px;
            background: #00ffff;
            border: 2px solid #ffffff;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .depth-marker:hover {
            transform: scale(1.3);
            background: #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.8);
        }

        .depth-marker-label {
            position: absolute;
            left: 25px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: #ffffff;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: bold;
            white-space: nowrap;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            border: 1px solid #00ffff;
        }

        .depth-marker:hover .depth-marker-label {
                opacity: 1;
        }

        /* Батискаф */
        .bathyscaphe {
            position: fixed;
            left: 30px;
            top: 20%;
            transform: translateY(-50%);
            width: 50px;
            height: 80px;
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            border-radius: 25px 25px 8px 8px;
            z-index: 1003;
            transition: top 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), background 0.3s ease, border-color 0.3s ease;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.7), inset 0 0 10px rgba(255, 255, 255, 0.2);
            border: 2px solid #87ceeb;
        }

        .bathyscaphe::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 10px;
            background: #666;
            border-radius: 10px 10px 0 0;
        }

        .bathyscaphe::after {
            content: '🔍';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
        }

        /* Пляжный фон */
        .beach-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, 
                rgba(135, 206, 235, 0.8) 0%, 
                rgba(244, 164, 96, 0.8) 20%, 
                rgba(222, 184, 135, 0.8) 40%, 
                rgba(210, 180, 140, 0.8) 60%, 
                rgba(135, 206, 235, 0.8) 80%, 
                rgba(70, 130, 180, 0.8) 100%),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="sky" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:%2387CEEB;stop-opacity:1" /><stop offset="100%" style="stop-color:%23B0E0E6;stop-opacity:1" /></linearGradient><linearGradient id="ocean" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:%2300BFFF;stop-opacity:1" /><stop offset="100%" style="stop-color:%230000CD;stop-opacity:1" /></linearGradient><linearGradient id="sand" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:%23F4A460;stop-opacity:1" /><stop offset="100%" style="stop-color:%23DEB887;stop-opacity:1" /></linearGradient></defs><rect width="1200" height="300" fill="url(%23sky)"/><rect y="300" width="1200" height="200" fill="url(%23ocean)"/><rect y="500" width="1200" height="300" fill="url(%23sand)"/><path d="M0,500 Q300,480 600,500 T1200,500 L1200,800 L0,800 Z" fill="%23F5DEB3"/><circle cx="200" cy="150" r="30" fill="%23FFFFFF" opacity="0.8"/><circle cx="400" cy="100" r="20" fill="%23FFFFFF" opacity="0.6"/><circle cx="800" cy="120" r="25" fill="%23FFFFFF" opacity="0.7"/><path d="M1000,200 Q1050,180 1100,200 Q1150,220 1200,200" stroke="%23FFFFFF" stroke-width="3" fill="none" opacity="0.5"/><path d="M50,450 Q100,430 150,450 Q200,470 250,450" stroke="%23FFFFFF" stroke-width="2" fill="none" opacity="0.6"/><path d="M800,420 Q850,400 900,420 Q950,440 1000,420" stroke="%23FFFFFF" stroke-width="2" fill="none" opacity="0.6"/></svg>');
            background-size: cover;
            background-position: center;
            z-index: -1;
        }

        .beach-background::before {
            content: '🏖️';
            position: absolute;
            bottom: 25%;
            left: 15%;
            font-size: 4rem;
            opacity: 0.8;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .beach-background::after {
            content: '🌊';
            position: absolute;
            bottom: 20%;
            right: 20%;
            font-size: 3rem;
            opacity: 0.8;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* Анимация пузырьков */
        @keyframes bubbleRise {
            0% {
                transform: translateX(-50%) translateY(0);
                opacity: 0.8;
            }
            100% {
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
        }

        /* Стили для изображений */
        .creature-image {
            position: absolute;
            width: 200px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            z-index: 5;
            transition: all 0.3s ease;
        }

        .creature-image:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.8);
        }

        .fish-photo {
            position: absolute;
            top: 5%;
            left: 50%;
            transform: translateX(-50%);
            width: 250px;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
            z-index: 15;
            transition: all 0.3s ease;
        }

        .fish-photo:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 0 35px rgba(0, 255, 255, 0.9);
        }

        /* Стили для отдельных изображений рыб */
        .fish-image {
            position: absolute;
            width: 260px;
            height: auto;
            border-radius: 20px;
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.5),
                0 8px 25px rgba(0, 0, 0, 0.4),
                inset 0 0 15px rgba(0, 255, 255, 0.1);
            /* Выше текста (.depth-info z-index:10), ниже UI (1000+) */
            z-index: 12;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid rgba(0, 255, 255, 0.3);
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.4) 0%, 
                rgba(0, 20, 40, 0.3) 50%, 
                rgba(0, 0, 0, 0.4) 100%);
            padding: 6px;
            filter: brightness(1.05) contrast(1.02);
            /* Центрирование относительно текстового блока */
            left: 50%;
            transform: translateX(-50%);
        }

        .fish-image:hover {
            transform: translateX(-50%) scale(1.15);
            box-shadow: 
                0 0 60px rgba(0, 255, 255, 0.9),
                0 20px 50px rgba(0, 0, 0, 0.6),
                inset 0 0 30px rgba(0, 255, 255, 0.2);
            border-color: rgba(0, 255, 255, 0.8);
            filter: brightness(1.2) contrast(1.1);
        }

        .fish-image.left,
        .fish-image.right,
        .fish-image.center {
            top: 3%;
        }

        .fish-image.left {
            animation: floatLeft 6s ease-in-out infinite;
        }

        .fish-image.right {
            animation: floatRight 6s ease-in-out infinite;
        }

        .fish-image.center {
            animation: floatCenter 8s ease-in-out infinite;
        }

        .fish-image.center:hover {
            transform: translateX(-50%) scale(1.15);
        }

        /* Герой-изображение: по центру, чуть выше текста */
        .fish-hero {
            left: 50% !important;
            top: 10% !important;
            transform: translateX(-50%);
            width: 300px;
        }

        @keyframes floatLeft {
            0%, 100% { transform: translateX(-50%) translateY(0px) rotate(0deg); }
            50% { transform: translateX(-50%) translateY(-8px) rotate(1deg); }
        }

        @keyframes floatRight {
            0%, 100% { transform: translateX(-50%) translateY(0px) rotate(0deg); }
            50% { transform: translateX(-50%) translateY(-12px) rotate(-1deg); }
        }

        @keyframes floatCenter {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-6px); }
        }

        /* Специальные фоновые стили для конкретных блоков с улучшенным качеством */
        .divers-zone {
            background: linear-gradient(180deg, rgba(70, 130, 180, 0.5) 0%, rgba(25, 25, 112, 0.5) 100%), 
                       url('images/Зона Дайверов.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .whale-shark-zone {
            background: linear-gradient(180deg, rgba(70, 130, 180, 0.5) 0%, rgba(25, 25, 112, 0.5) 100%), 
                       url('images/Китовая Акула.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .blue-whale-zone {
            background: linear-gradient(180deg, rgba(25, 25, 112, 0.5) 0%, rgba(0, 0, 128, 0.5) 100%), 
                       url('images/Последний Синий Кит.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .giant-squid-zone {
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.5) 0%, rgba(0, 0, 51, 0.5) 100%), 
                       url('images/Гигантский Кальмар.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .white-shark-zone {
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.5) 0%, rgba(0, 0, 51, 0.5) 100%), 
                       url('images/Белая Акула.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .fishing-nets-zone {
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.5) 0%, rgba(0, 0, 51, 0.5) 100%), 
                       url('images/Зона Рыболовных Сетей.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .grand-canyon-zone {
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.5) 0%, rgba(0, 0, 51, 0.5) 100%), 
                       url('images/Глубина Большого Каньона.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .idiacanth-zone {
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.5) 0%, rgba(0, 0, 51, 0.5) 100%), 
                       url('images/Идиакант.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .sperm-whale-zone {
            background: linear-gradient(180deg, rgba(0, 0, 128, 0.5) 0%, rgba(0, 0, 51, 0.5) 100%), 
                       url('images/Зона Кашалотов.jpeg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .black-swallower-zone {
            background: linear-gradient(180deg, rgba(0, 0, 51, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%), 
                       url('images/Живоглот.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .ultra-abyssal-zone {
            background: linear-gradient(180deg, rgba(0, 0, 51, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%), 
                       url('images/Ультра-Абиссальная Зона.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .shipwrecks-zone {
            background: linear-gradient(180deg, rgba(0, 0, 51, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%), 
                       url('images/Зона Затонувших Кораблей.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .abyss-zone {
            background: linear-gradient(180deg, 
                rgba(0, 0, 20, 0.9) 0%, 
                rgba(0, 0, 40, 0.95) 25%, 
                rgba(0, 0, 60, 0.98) 50%, 
                rgba(0, 0, 80, 1) 75%, 
                rgba(0, 0, 0, 1) 100%);
            position: relative;
        }

        .abyss-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 0, 100, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 80, 0.2) 0%, transparent 50%),
                linear-gradient(45deg, transparent 30%, rgba(0, 0, 50, 0.1) 50%, transparent 70%);
            pointer-events: none;
        }

        .deepest-fish-zone {
            background: linear-gradient(180deg, 
                rgba(0, 0, 30, 0.95) 0%, 
                rgba(0, 0, 50, 0.98) 30%, 
                rgba(0, 0, 70, 1) 60%, 
                rgba(0, 0, 90, 1) 80%, 
                rgba(0, 0, 0, 1) 100%);
            position: relative;
        }

        .deepest-fish-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 40%, rgba(0, 0, 120, 0.4) 0%, transparent 60%),
                radial-gradient(circle at 70% 60%, rgba(0, 0, 100, 0.3) 0%, transparent 50%),
                linear-gradient(135deg, transparent 40%, rgba(0, 0, 60, 0.15) 60%, transparent 80%);
            pointer-events: none;
        }

        .challenger-deep-zone {
            background: radial-gradient(circle at 50% 55%, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.35) 40%, rgba(0,0,0,0.7) 80%),
                        linear-gradient(180deg, rgba(0, 0, 0, 0.65) 0%, rgba(0, 10, 25, 0.75) 40%, rgba(0, 0, 0, 0.9) 100%),
                        url('images/Бездна Челленджера.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            position: relative;
        }

        .challenger-deep-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(1200px 600px at 50% 60%, rgba(0, 102, 153, 0.25) 0%, transparent 70%),
                radial-gradient(circle at 20% 30%, rgba(0, 0, 80, 0.25) 0%, transparent 55%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 80, 0.2) 0%, transparent 55%);
            pointer-events: none;
        }

        /* Кнопка управления глубиномером */
        .depth-toggle-btn {
            position: fixed;
            right: 20px;
            top: 20px;
            z-index: 1100;
            background: rgba(0, 20, 40, 0.9);
            color: #00ffff;
            border: 1px solid #00ffff;
            border-radius: 10px;
            padding: 10px 14px;
            cursor: pointer;
            box-shadow: 0 0 12px rgba(0,255,255,0.35);
        }
        .depth-toggle-btn:hover { filter: brightness(1.1); }
        .is-hidden { display: none !important; }

        /* Адаптивные стили для мобильных устройств */
        @media (max-width: 768px) {
            .depth-section {
                padding: 1rem 2rem;
            }
            
            .depth-info {
                padding: 2rem;
                max-width: 95%;
                margin: 0 10px;
                border-radius: 25px;
            }
            
            .depth-title {
                font-size: 2.4rem;
                letter-spacing: 2px;
            }
            
            .depth-meters {
                font-size: 1.8rem;
            }
            
            .depth-fact {
                font-size: 1.2rem;
            }
            
            .depth-description {
                font-size: 1rem;
                line-height: 1.7;
            }
            
            .depth-indicator {
                right: 10px;
                width: 180px;
                padding: 15px;
            }
            
            .depth-line {
                left: 50px;
            }
            
            .bathyscaphe {
                left: 15px;
                width: 40px;
                height: 65px;
            }
            
            .fish-image {
                width: 220px;
                padding: 6px;
            }
            
            .fish-image.left,
            .fish-image.right,
            .fish-image.center {
                top: 2%;
            }
            
            .fish-photo {
                width: 220px;
                top: 4%;
            }
            
            .depth-info {
                margin-top: 4vh;
                max-width: 95%;
                width: 95%;
            }
        }

        @media (max-width: 480px) {
            .depth-section {
                padding: 0.5rem 1rem;
            }
            
            .depth-info {
                padding: 1.5rem;
                margin: 0 5px;
                border-radius: 20px;
            }
            
            .depth-title {
                font-size: 2rem;
                letter-spacing: 1px;
            }
            
            .depth-meters {
                font-size: 1.5rem;
            }
            
            .depth-fact {
                font-size: 1.1rem;
            }
            
            .depth-description {
                font-size: 0.95rem;
                line-height: 1.6;
            }
            
            .depth-indicator {
                right: 5px;
                width: 160px;
                padding: 10px;
            }
            
            .depth-line {
                left: 30px;
            }
            
            .bathyscaphe {
                left: 15px;
            }
            
            .fish-image {
                width: 180px;
                padding: 4px;
            }
            
            .fish-image.left,
            .fish-image.right,
            .fish-image.center {
                top: 1%;
            }
            
            .fish-photo {
                width: 180px;
                top: 3%;
            }
            
            .depth-info {
                margin-top: 3vh;
                max-width: 98%;
                width: 98%;
            }
        }

        /* Улучшенные стили для текста */
        .depth-title {
            font-size: 3.2rem;
            color: #00ffff;
            margin-bottom: 1.5rem;
            text-shadow: 
                0 0 15px rgba(0, 255, 255, 0.6),
                0 0 30px rgba(0, 255, 255, 0.3),
                0 2px 4px rgba(0, 0, 0, 0.5);
            font-weight: 700;
            letter-spacing: 3px;
            background: linear-gradient(45deg, #00cccc, #66b3ff, #0099cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
            text-transform: uppercase;
            opacity: 0.9;
        }

        .depth-meters {
            font-size: 2.4rem;
            color: #ff6b6b;
            margin-bottom: 1.5rem;
            font-weight: 800;
            text-shadow: 
                0 0 10px rgba(255, 107, 107, 0.5),
                0 2px 4px rgba(0, 0, 0, 0.5);
            background: linear-gradient(45deg, #cc5555, #ff8888, #ffaa66);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            letter-spacing: 1px;
            opacity: 0.9;
        }

        .depth-fact {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: #87ceeb;
            font-weight: 600;
            text-shadow: 
                0 0 8px rgba(135, 206, 235, 0.4),
                0 2px 4px rgba(0, 0, 0, 0.5);
            line-height: 1.2;
            letter-spacing: 0.5px;
            opacity: 0.9;
        }

        .depth-description {
            font-size: 1.2rem;
            line-height: 1.9;
            opacity: 0.85;
            color: #e0e0e0;
            text-shadow: 
                0 1px 3px rgba(0, 0, 0, 0.6);
            text-align: justify;
            hyphens: auto;
            font-weight: 400;
            letter-spacing: 0.3px;
            max-width: 100%;
        }

    </style>
</head>
<body>
    <div class="ocean-container">
        <!-- Берег -->
        <div class="depth-section shore">
            <div class="beach-background"></div>
            <img src="images/пляж.jpg" alt="Пляж" class="fish-photo">
            <div class="depth-info">
                <h1 class="depth-title">Берег Океана</h1>
                <div class="depth-meters">Над уровнем моря</div>
                <div class="depth-fact">🏖️ Здесь начинается наше путешествие</div>
                <div class="depth-description">
                    Мы стоим на берегу бескрайнего океана. Волны набегают на песок, 
                    а впереди нас ждет удивительное путешествие в неизведанные глубины.
                    Забирайтесь в батискаф и присоединяйтесь к нашему путешествию!
                </div>
            </div>
            <div class="creature" style="top: 60%; left: 10%;">🦀</div>
            <div class="creature" style="top: 70%; left: 20%;">🐚</div>
            <div class="creature" style="top: 80%; left: 15%;">🦐</div>
        </div>

        <!-- Поверхность океана -->
        <div class="depth-section surface" data-depth="0">
            <img src="images/поверхность океана.jpg" alt="Поверхность океана" class="fish-photo">
            <div class="depth-info">
                <h1 class="depth-title">Поверхность Океана</h1>
                <div class="depth-meters">0 метров</div>
                <div class="depth-fact">🌊 Здесь начинается жизнь в океане</div>
                <div class="depth-description">
                    Солнечный свет проникает на глубину до 200 метров. 
                    Здесь обитает большинство морских животных, которых мы знаем.
                </div>
            </div>
            <div class="creature" style="top: 20%; left: 10%;">🐠</div>
            <div class="creature" style="top: 40%; left: 20%;">🐟</div>
            <div class="creature" style="top: 60%; left: 15%;">🦈</div>
        </div>

        <!-- Кораллы -->
        <div class="depth-section surface" data-depth="20">
            <img src="images/Коралловые рифы.jpg" alt="Коралловые рифы" class="fish-photo">
            <div class="depth-info">
                <h1 class="depth-title">Коралловые Рифы</h1>
                <div class="depth-meters">20 метров</div>
                <div class="depth-fact">🪸 Красивые мелководные кораллы</div>
                <div class="depth-description">
                    На глубине 20 метров вашим глазам открывается совершенно другой мир. 
                    Недалеко от берега растут красивые мелководные кораллы. Здесь обитает 25% всех морских видов!
            </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🐠</div>
            <div class="creature" style="top: 50%; left: 20%;">🐟</div>
        </div>

        <!-- Дайверы -->
        <div class="depth-section divers-zone" data-depth="40">
            <div class="depth-info">
                <h1 class="depth-title">Зона Дайверов</h1>
                <div class="depth-meters">40 метров</div>
                <div class="depth-fact">🤿 Максимальная глубина для дайверов-любителей</div>
                <div class="depth-description">
                    На глубине 40 метров мы прощаемся с дайверами-любителями. 
                    Это максимальная глубина, на которую им разрешено погружаться. 
                    Здесь давление в 5 раз больше атмосферного!
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🐠</div>
            <div class="creature" style="top: 50%; left: 20%;">🐟</div>
        </div>

        <!-- Китовая акула -->
        <div class="depth-section whale-shark-zone" data-depth="70">
            <img src="images/Китовая Акула.jpg" alt="Китовая акула" class="fish-image right">
            <div class="depth-info">
                <h1 class="depth-title">Китовая Акула</h1>
                <div class="depth-meters">70 метров</div>
                <div class="depth-fact">🦈 Крупнейшая из современных рыб</div>
                <div class="depth-description">
                    На глубине 70 метров мы видим китовую акулу. Это крупнейшая из современных рыб, 
                    и ее вес достигает 34 тонн. Длина может достигать 18 метров!
            </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🦈</div>
            <div class="creature" style="top: 50%; left: 20%;">🐟</div>
        </div>

        <!-- Темная зона -->
        <div class="depth-section mesopelagic" data-depth="150">
            <img src="images/Темная Зона.jpg" alt="Темная зона" class="fish-photo">
            <div class="depth-info">
                <h1 class="depth-title">Темная Зона</h1>
                <div class="depth-meters">150 метров</div>
                <div class="depth-fact">🌙 Только 1% солнечного света</div>
                <div class="depth-description">
                    А теперь мы входим в темную часть океана. На глубину 150 метров с поверхности 
                    проникает только 1% солнечного света.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🦑</div>
            <div class="creature" style="top: 50%; left: 20%;">🐟</div>
        </div>

        <!-- Зона сумерек -->
        <div class="depth-section mesopelagic" data-depth="300">
            <img src="images/Зона Сумерек.jpg" alt="Зона сумерек" class="fish-photo">
            <div class="depth-info">
                <h1 class="depth-title">Зона Сумерек</h1>
                <div class="depth-meters">300 метров</div>
                <div class="depth-fact">🌅 Последние лучи солнца</div>
                <div class="depth-description">
                    На этой глубине проникает только 0.1% солнечного света. 
                    Многие рыбы здесь имеют огромные глаза, чтобы уловить каждый фотон света.
                    Здесь начинается мир биолюминесценции.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">👁️</div>
        </div>

        <!-- Синий кит -->
        <div class="depth-section blue-whale-zone" data-depth="500">
            <img src="images/Последний Синий Кит.jpg" alt="Синий кит" class="fish-image left">
            <div class="depth-info">
                <h1 class="depth-title">Последний Синий Кит</h1>
                <div class="depth-meters">500 метров</div>
                <div class="depth-fact">🐋 Последний синий кит на этой глубине</div>
                <div class="depth-description">
                    Погружаемся дальше, и на глубине 500 метров мы увидим последнего синего кита. 
                    Нет, это не значит, что он действительно последний, просто глубже синие киты не плавают.
                    Это самое большое животное на Земле - до 33 метров в длину!
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🐋</div>
        </div>

        <!-- Гигантский кальмар -->
        <div class="depth-section giant-squid-zone" data-depth="900">
            <img src="images/Гигантский Кальмар.jpg" alt="Гигантский кальмар" class="fish-image right">
            <div class="depth-info">
                <h1 class="depth-title">Гигантский Кальмар</h1>
                <div class="depth-meters">900 метров</div>
                <div class="depth-fact">🦑 Существо с глазами размером с тарелки</div>
                <div class="depth-description">
                    Легендарный гигантский кальмар обитает на глубине 900 метров. 
                    Только представьте себе существо с глазами размером с тарелки.
                    Длина щупалец может достигать 13 метров!
            </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🦑</div>
        </div>

        <!-- Белая акула -->
        <div class="depth-section white-shark-zone" data-depth="1280">
            <img src="images/Белая Акула.jpg" alt="Белая акула" class="fish-image left">
            <div class="depth-info">
                <h1 class="depth-title">Белая Акула</h1>
                <div class="depth-meters">1280 метров</div>
                <div class="depth-fact">🦈 Сверххищники в темных водах</div>
                <div class="depth-description">
                    Глубина 1280 метров, и мы видим свирепых белых акул. 
                    Эти сверххищники на такой глубине чувствуют себя совершенно спокойно.
                    Длина может достигать 6 метров, а вес - 2 тонны!
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🦈</div>
        </div>

        <!-- Зона рыболовных сетей -->
        <div class="depth-section fishing-nets-zone" data-depth="1500">
            <div class="depth-info">
                <h1 class="depth-title">Зона Рыболовных Сетей</h1>
                <div class="depth-meters">1500 метров</div>
                <div class="depth-fact">🕸️ Громадные рыболовные сети</div>
                <div class="depth-description">
                    На этой глубине применяется глубоководный рыболовный трал. 
                    Эти сети могут быть длиной до 2 км и высотой до 200 метров!
                    Они ловят рыбу, которая никогда не видела солнечного света.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🕸️</div>
        </div>

        <!-- Зона Большого Каньона -->
        <div class="depth-section grand-canyon-zone" data-depth="1830">
            <div class="depth-info">
                <h1 class="depth-title">Глубина Большого Каньона</h1>
                <div class="depth-meters">1830 метров</div>
                <div class="depth-fact">🏔️ Глубже Большого Каньона</div>
                <div class="depth-description">
                    Если бы мы были внизу Большого Каньона, мы бы сидели в его самой глубокой точке. 
                    Но мы в океане! Здесь давление в 183 раза больше атмосферного.
                    Температура воды около 2-4°C.
                </div>
            </div>
        </div>

        <!-- Идиакант -->
        <div class="depth-section idiacanth-zone" data-depth="2000">
            <img src="images/Идиакант.jpg" alt="Идиакант" class="fish-image center">
            <div class="depth-info">
                <h1 class="depth-title">Идиакант</h1>
                <div class="depth-meters">2000 метров</div>
                <div class="depth-fact">👹 Кошмарное существо из темных вод</div>
                <div class="depth-description">
                    Если мы будем вести себя тихо, то на глубине в 2000 метров мы увидим идиакантов. 
                    Это кошмарное существо обитает в темных водах океана.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">👹</div>
        </div>

        <!-- Зона кашалотов -->
        <div class="depth-section sperm-whale-zone" data-depth="2250">
            <img src="images/Зона Кашалотов.jpeg" alt="Зона кашалотов" class="fish-image right">
            <div class="depth-info">
                <h1 class="depth-title">Зона Кашалотов</h1>
                <div class="depth-meters">2250 метров</div>
                <div class="depth-fact">🐋 Последние кашалоты</div>
                <div class="depth-description">
                    На глубине 2250 метров мы попрощаемся с кашалотами. 
                    Глубже они не ныряют. Эти гиганты могут задерживать дыхание до 90 минут!
                    Их мозг весит до 9 кг - самый большой среди всех животных.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🐋</div>
        </div>

        <!-- Живоглот -->
        <div class="depth-section black-swallower-zone" data-depth="4000">
            <img src="images/Живоглот.jpg" alt="Живоглот" class="fish-image center">
            <div class="depth-info">
                <h1 class="depth-title">Живоглот</h1>
                <div class="depth-meters">4000 метров</div>
                <div class="depth-fact">🐠 Монстр из ваших худших кошмаров</div>
                <div class="depth-description">
                    На глубине 4000 метров появляются монстры из ваших самых худших кошмаров. 
                    Живоглот может проглотить добычу в 2 раза больше себя.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🐠</div>
        </div>

        <!-- Марианская впадина -->
        <div class="depth-section mariana-section" data-depth="6000">
            <img src="images/Марианская Впадина.jpg" alt="Марианская впадина" class="fish-photo">
            <div class="depth-info">
                <h1 class="depth-title">Марианская Впадина</h1>
                <div class="depth-meters">6000 метров</div>
                <div class="depth-fact">🌊 Официальное начало Марианской впадины</div>
                <div class="depth-description">
                    А теперь начинается самая глубокая и темная часть океана. 
                    Мы погружаемся в Марианскую впадину. Официально она начинается на глубине в 6000 метров.
                    Давление здесь в 600 раз больше атмосферного!
                </div>
            </div>
        </div>

        <!-- Зона ультра-абиссальная -->
        <div class="depth-section ultra-abyssal-zone" data-depth="6500">
            <div class="depth-info">
                <h1 class="depth-title">Ультра-Абиссальная Зона</h1>
                <div class="depth-meters">6500 метров</div>
                <div class="depth-fact">🌑 Экстремальные условия</div>
                <div class="depth-description">
                    Здесь начинается ультра-абиссальная зона. Давление в 650 раз больше атмосферного!
                    Температура воды около 1-2°C. Здесь обитают только самые выносливые существа.
                    Многие из них имеют прозрачные тела.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">👻</div>
        </div>

        <!-- Зона затонувших кораблей -->
        <div class="depth-section shipwrecks-zone" data-depth="7000">
            <div class="depth-info">
                <h1 class="depth-title">Зона Затонувших Кораблей</h1>
                <div class="depth-meters">7000 метров</div>
                <div class="depth-fact">🚢 Самые глубоководные обломки</div>
                <div class="depth-description">
                    На этой глубине покоятся самые глубоководные обломки кораблей. 
                    Давление здесь невероятно велико - в 700 раз больше атмосферного!
                    Металл кораблей может сохраняться здесь тысячи лет.
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🚢</div>
        </div>

        <!-- Бездна -->
        <div class="depth-section abyss-zone" data-depth="8000">
            <div class="depth-info">
                <h1 class="depth-title">Бездна</h1>
                <div class="depth-meters">8000 метров</div>
                <div class="depth-fact">🌑 Самая глубокая и темная часть океана</div>
                <div class="depth-description">
                    Мы погружаемся все глубже, и тут вы больше не увидите рыб или других позвоночных. 
                    Для них давление слишком велико.
                </div>
            </div>
        </div>

        <!-- Зона самой глубоководной рыбы -->
        <div class="depth-section deepest-fish-zone" data-depth="8178">
            <img src="images/Pseudoliparis swirei.png" alt="Самая глубоководная рыба" class="fish-image center">
            <div class="depth-info">
                <h1 class="depth-title">Самая Глубоководная Рыба</h1>
                <div class="depth-meters">8178 метров</div>
                <div class="depth-fact">🐟 Pseudoliparis swirei</div>
                <div class="depth-description">
                    На этой глубине обитает самая глубоководная рыба - Pseudoliparis swirei. 
                    Она была обнаружена в Марианской впадине на глубине 8178 метров!
                    Эта рыба имеет прозрачное тело и огромные глаза. Давление здесь в 817 раз больше атмосферного!
                </div>
            </div>
            <div class="creature" style="top: 30%; left: 10%;">🐟</div>
        </div>

        <!-- Бездна Челленджера -->
        <div class="depth-section challenger-deep-zone" data-depth="10927">
            <!-- Акцентное изображение по центру, над текстом -->
            <img src="images/Бездна Челленджера.jpg" alt="Бездна Челленджера" class="fish-image fish-hero">
            <div class="depth-info">
                <h1 class="depth-title">Бездна Челленджера</h1>
                <div class="depth-meters">10927 метров</div>
                <div class="depth-fact">🌊 Самая глубокая точка на Земле</div>
                <div class="depth-description">
                    Самая глубокая точка поверхности Земли называется Бездна Челленджера. 
                    Она находится на дне Марианской впадины на глубине 10927 метров.
                    Давление здесь в 1100 раз больше атмосферного!
                </div>
            </div>
        </div>
    </div>

    <!-- Батискаф -->
    <div class="bathyscaphe" id="bathyscaphe"></div>

    <!-- Кнопка режима глубиномера -->
    <button id="depthToggleBtn" class="depth-toggle-btn" aria-pressed="false" aria-controls="depthUi">
        Скрыть глубиномер
    </button>

    <!-- Линия глубины -->
    <div id="depthUi" class="depth-line">
        <div class="depth-marker" style="top: 3%;" data-depth="0">
            <div class="depth-marker-label">0м - Поверхность</div>
        </div>
        <div class="depth-marker" style="top: 7%;" data-depth="20">
            <div class="depth-marker-label">20м - Кораллы</div>
        </div>
        <div class="depth-marker" style="top: 11%;" data-depth="40">
            <div class="depth-marker-label">40м - Дайверы</div>
        </div>
        <div class="depth-marker" style="top: 15%;" data-depth="70">
            <div class="depth-marker-label">70м - Китовая акула</div>
        </div>
        <div class="depth-marker" style="top: 19%;" data-depth="150">
            <div class="depth-marker-label">150м - Темная зона</div>
        </div>
        <div class="depth-marker" style="top: 23%;" data-depth="300">
            <div class="depth-marker-label">300м - Сумерек</div>
        </div>
        <div class="depth-marker" style="top: 27%;" data-depth="500">
            <div class="depth-marker-label">500м - Синий кит</div>
        </div>
        <div class="depth-marker" style="top: 31%;" data-depth="900">
            <div class="depth-marker-label">900м - Кальмар</div>
        </div>
        <div class="depth-marker" style="top: 35%;" data-depth="1280">
            <div class="depth-marker-label">1280м - Белая акула</div>
        </div>
        <div class="depth-marker" style="top: 39%;" data-depth="1500">
            <div class="depth-marker-label">1500м - Рыболовные сети</div>
        </div>
        <div class="depth-marker" style="top: 43%;" data-depth="1830">
            <div class="depth-marker-label">1830м - Большой Каньон</div>
        </div>
        <div class="depth-marker" style="top: 47%;" data-depth="2000">
            <div class="depth-marker-label">2000м - Идиакант</div>
        </div>
        <div class="depth-marker" style="top: 51%;" data-depth="2250">
            <div class="depth-marker-label">2250м - Кашалоты</div>
        </div>
        <div class="depth-marker" style="top: 55%;" data-depth="4000">
            <div class="depth-marker-label">4000м - Живоглот</div>
        </div>
        <div class="depth-marker" style="top: 59%;" data-depth="6000">
            <div class="depth-marker-label">6000м - Марианская впадина</div>
        </div>
        <div class="depth-marker" style="top: 63%;" data-depth="6500">
            <div class="depth-marker-label">6500м - Ультра-абиссальная</div>
        </div>
        <div class="depth-marker" style="top: 67%;" data-depth="7000">
            <div class="depth-marker-label">7000м - Затонувшие корабли</div>
        </div>
        <div class="depth-marker" style="top: 71%;" data-depth="8000">
            <div class="depth-marker-label">8000м - Бездна</div>
        </div>
        <div class="depth-marker" style="top: 75%;" data-depth="8178">
            <div class="depth-marker-label">8178м - Глубоководная рыба</div>
        </div>
        <div class="depth-marker" style="top: 79%;" data-depth="10927">
            <div class="depth-marker-label">10927м - Бездна Челленджера</div>
        </div>
    </div>

    <!-- Индикатор глубины -->
    <div class="depth-indicator" id="depthIndicator">
        <div class="depth-meter" id="current-depth">0</div>
        <div class="depth-label">метров</div>
        <div class="pressure-reading" id="pressure-reading">Давление: 1 атм</div>
        <div class="temperature-reading" id="temperature-reading">Температура: 20°C</div>
    </div>

    <!-- Подсказка для скроллинга -->
    <div class="scroll-hint">
        Прокрутите вниз, чтобы погрузиться глубже ↓
    </div>

    <script>
        let currentDepth = 0;

        // Создание пузырьков
        function createBubbles(containerId, count = 10) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            for (let i = 0; i < count; i++) {
                const bubble = document.createElement('div');
                bubble.className = 'bubble';
                bubble.style.left = Math.random() * 100 + '%';
                bubble.style.width = Math.random() * 15 + 5 + 'px';
                bubble.style.height = bubble.style.width;
                bubble.style.animationDelay = Math.random() * 6 + 's';
                bubble.style.animationDuration = (Math.random() * 3 + 4) + 's';
                container.appendChild(bubble);
            }
        }

        // Обновление глубиномера
        function updateDepthIndicator() {
            const sections = document.querySelectorAll('.depth-section[data-depth]');
            const windowHeight = window.innerHeight;
            let visibleSection = null;
            let minDistance = Infinity;
            
            // Находим секцию, которая наиболее видна на экране
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const distance = Math.abs(rect.top + rect.height / 2 - windowHeight / 2);
                
                if (rect.top < windowHeight && rect.bottom > 0 && distance < minDistance) {
                    minDistance = distance;
                    visibleSection = section;
                }
            });
            
            if (visibleSection) {
                const sectionDepth = parseInt(visibleSection.getAttribute('data-depth'));
                
                if (sectionDepth !== currentDepth) {
                    currentDepth = sectionDepth;
                    
                    // Анимируем батискаф при прокрутке
                    animateBathyscaphe(currentDepth);
                    
            const depthElement = document.getElementById('current-depth');
            const pressureElement = document.getElementById('pressure-reading');
            const temperatureElement = document.getElementById('temperature-reading');
            
                    if (depthElement) {
                        depthElement.textContent = currentDepth.toLocaleString();
                    }
                    
                    if (pressureElement) {
                        const pressure = 1 + (currentDepth / 10);
                pressureElement.textContent = `Давление: ${pressure.toFixed(1)} атм`;
                    }
                
                    if (temperatureElement) {
                        const temperature = Math.max(1, 20 - (currentDepth * 0.0017));
                temperatureElement.textContent = `Температура: ${temperature.toFixed(1)}°C`;
                    }
                }
            }
        }

        // Анимация появления информации
        function animateOnScroll() {
            const sections = document.querySelectorAll('.depth-info');
            const windowHeight = window.innerHeight;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top < windowHeight * 0.8 && rect.bottom > 0) {
                    section.classList.add('visible');
                }
            });
        }

        // Обработка клика по рыбке
        function handleFishClick(fish) {
            if (fish.classList.contains('clicked')) return;
            
            fish.classList.add('clicked');
            
            // Звуковой эффект
                        try {
                            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                            const oscillator = audioContext.createOscillator();
                            const gainNode = audioContext.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            
                            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                            oscillator.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.3);
                            
                            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                            
                            oscillator.start(audioContext.currentTime);
                            oscillator.stop(audioContext.currentTime + 0.3);
                        } catch (e) {
                            // Игнорируем ошибки аудио
            }
        }

        // Добавление интерактивности к рыбкам
        function addFishInteractivity() {
            const creatures = document.querySelectorAll('.creature');
            
            creatures.forEach(creature => {
                creature.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    handleFishClick(creature);
                });
            });
        }

        // Инициализация линии глубины
        function initDepthLine() {
            const markers = document.querySelectorAll('.depth-marker');
            
            markers.forEach(marker => {
                marker.addEventListener('click', () => {
                    const depth = parseInt(marker.getAttribute('data-depth'));
                    scrollToDepth(depth);
                });
            });
        }

        // Прокрутка к определенной глубине
        function scrollToDepth(targetDepth) {
            // Находим секцию с нужной глубиной
            const sections = document.querySelectorAll('.depth-section[data-depth]');
            let targetSection = null;
            
            for (let section of sections) {
                const sectionDepth = parseInt(section.getAttribute('data-depth'));
                if (sectionDepth === targetDepth) {
                    targetSection = section;
                    break;
                }
            }
            
            if (targetSection) {
                // Анимируем батискаф
                animateBathyscaphe(targetDepth);
                
                // Прокручиваем к найденной секции
                targetSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            } else {
                // Если секция не найдена, используем старый метод
                const maxDepth = 10927;
                const scrollProgress = targetDepth / maxDepth;
                const documentHeight = document.documentElement.scrollHeight;
                const windowHeight = window.innerHeight;
                const maxScroll = documentHeight - windowHeight;
                const targetScroll = scrollProgress * maxScroll;
                
                // Анимируем батискаф
                animateBathyscaphe(targetDepth);
                
                window.scrollTo({
                    top: targetScroll,
                    behavior: 'smooth'
                });
            }
        }

        // Анимация батискафа
        function animateBathyscaphe(depth) {
            const bathyscaphe = document.getElementById('bathyscaphe');
            const maxDepth = 10927;
            const progress = Math.min(depth / maxDepth, 1);
            
            // Нормальное движение по блокам: от 20% до 85%
            const newTop = 20 + (progress * 65);
            
            // Устанавливаем позицию без перезаписи transition
            bathyscaphe.style.top = newTop + '%';
            bathyscaphe.style.transform = `translateY(-50%) scale(${1 + progress * 0.2})`;
            
            // Изменяем цвет батискафа в зависимости от глубины
            if (depth < 1000) {
                bathyscaphe.style.background = 'linear-gradient(45deg, #4a90e2, #7bb3f0)';
                bathyscaphe.style.borderColor = '#87ceeb';
            } else if (depth < 4000) {
                bathyscaphe.style.background = 'linear-gradient(45deg, #2c5aa0, #4a90e2)';
                bathyscaphe.style.borderColor = '#4682b4';
            } else {
                bathyscaphe.style.background = 'linear-gradient(45deg, #1a1a2e, #16213e)';
                bathyscaphe.style.borderColor = '#0f3460';
            }
            
            // Эффект пузырьков при погружении (реже)
            if (depth > 0 && Math.random() < 0.3) {
                createBubblesEffect();
            }
        }

        // Эффект пузырьков при погружении
        function createBubblesEffect() {
            const bathyscaphe = document.getElementById('bathyscaphe');
            const bubble = document.createElement('div');
            bubble.style.position = 'absolute';
            bubble.style.left = '50%';
            bubble.style.top = '100%';
            bubble.style.width = '4px';
            bubble.style.height = '4px';
            bubble.style.background = 'rgba(255, 255, 255, 0.6)';
            bubble.style.borderRadius = '50%';
            bubble.style.animation = 'bubbleRise 2s ease-out forwards';
            bubble.style.pointerEvents = 'none';
            
            bathyscaphe.appendChild(bubble);
            
            setTimeout(() => {
                if (bubble.parentNode) {
                    bubble.parentNode.removeChild(bubble);
                }
            }, 2000);
        }

        // Создание новых рыбок
        function spawnNewFish() {
            const sections = document.querySelectorAll('.depth-section');
            sections.forEach(section => {
                if (Math.random() < 0.1) {
                    const fishEmojis = ['🐠', '🐟', '🦈', '🐙', '🦑'];
                    const fish = document.createElement('div');
                    fish.className = 'creature';
                    fish.textContent = fishEmojis[Math.floor(Math.random() * fishEmojis.length)];
                    
                    // Случайная позиция, избегая центральной зоны (30%-70% по горизонтали, 30%-70% по вертикали)
                    let top, left;
                    do {
                        top = Math.random() * 80 + 10;
                        left = Math.random() * 80 + 10;
                    } while (
                        (left >= 30 && left <= 70 && top >= 30 && top <= 70) || // Центральная зона
                        (left >= 25 && left <= 75 && top >= 25 && top <= 75)    // Расширенная центральная зона
                    );
                    
                    fish.style.top = top + '%';
                    fish.style.left = left + '%';
                    fish.style.animationDelay = '0s';
                    fish.style.animationDuration = (Math.random() * 5 + 8) + 's';
                    
                    fish.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        handleFishClick(fish);
                    });
                    
                    section.appendChild(fish);
                    
                    setTimeout(() => {
                        if (fish.parentNode) {
                            fish.parentNode.removeChild(fish);
                        }
                    }, 13000);
                }
            });
        }

        // Инициализация
        function init() {
            console.log('Инициализация приложения...');
            
            // Добавляем интерактивность к рыбкам
            addFishInteractivity();
            
            // Инициализируем линию глубины
            initDepthLine();
            
            // Обновляем глубиномер
        updateDepthIndicator();
        animateOnScroll();
            
            // Создаем новых рыбок каждые 5 секунд
            setInterval(spawnNewFish, 5000);
            
            console.log('Приложение инициализировано!');
        }

        // Обработчики событий
        window.addEventListener('scroll', () => {
            updateDepthIndicator();
            animateOnScroll();
        });

        // Скрытие подсказки после скроллинга
        let hasScrolled = false;
        window.addEventListener('scroll', () => {
            if (!hasScrolled) {
                hasScrolled = true;
                const hint = document.querySelector('.scroll-hint');
                if (hint) {
                    hint.style.opacity = '0';
                setTimeout(() => {
                        hint.style.display = 'none';
                }, 500);
                }
            }
        });

        // Запуск
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Переключение глубиномера и линии глубины
        (function setupDepthToggle(){
            const btn = document.getElementById('depthToggleBtn');
            const indicator = document.getElementById('depthIndicator');
            const line = document.getElementById('depthUi');
            const bathyscaphe = document.getElementById('bathyscaphe');
            if (!btn || !indicator || !line || !bathyscaphe) return;

            // восстановить сохраненное состояние
            try {
                const saved = localStorage.getItem('depthUiHidden');
                const hidden = saved === '1';
                if (hidden) {
                    indicator.classList.add('is-hidden');
                    line.classList.add('is-hidden');
                    bathyscaphe.classList.add('is-hidden');
                    btn.textContent = 'Показать глубиномер';
                    btn.setAttribute('aria-pressed', 'true');
                }
            } catch (e) {}

            btn.addEventListener('click', () => {
                const willHide = !indicator.classList.contains('is-hidden');
                indicator.classList.toggle('is-hidden', willHide);
                line.classList.toggle('is-hidden', willHide);
                bathyscaphe.classList.toggle('is-hidden', willHide);
                btn.textContent = willHide ? 'Показать глубиномер' : 'Скрыть глубиномер';
                btn.setAttribute('aria-pressed', willHide ? 'true' : 'false');
                try { localStorage.setItem('depthUiHidden', willHide ? '1' : '0'); } catch (e) {}
            });
        })();
    </script>
</body>
</html>
